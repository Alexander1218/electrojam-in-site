<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1"/>
        <title>electrojam.in â€” Beta</title>
        <style>
          * { box-sizing: border-box; }
          html, body { height: 100%; }
          body {
            margin: 0; overflow: hidden;
            font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
            color: #cfe0ff; background: linear-gradient(180deg, #0e1a2a, #0a1523);
          }
          :root {
            --gap: clamp(10px, 1.6vh, 20px);
            --pad-top: clamp(2px, 0.9vh, 10px);
            --content-w: clamp(280px, 94vw, 900px);
            --logo-max-h: clamp(200px, 30vh, 520px);
            --badge-w: clamp(110px, 12vw, 150px);
            --badge-h: calc(var(--badge-w) * 1.5);
            --cta-h: 64px;
            --btn: #3a66ff; --btn-hover: #2f54d8;
            --glass: rgba(12,18,30,.12); --glass-border: rgba(207,224,255,.06);
          }

          .page { min-height: 100svh; display: grid; grid-template-rows: auto 1fr auto; row-gap: var(--gap); align-content: start; justify-items: center; padding-top: var(--pad-top); }
          .hero-wrap { width: var(--content-w); display: grid; justify-items: center; }
          .badge-hero { margin: 4px 0 6px; }
          .badge-hero img { width: var(--badge-w); height: auto; border-radius: 16px; box-shadow: 0 8px 24px rgba(0,0,0,.45); filter: drop-shadow(0 0 8px rgba(59,130,246,.25)); }
          .hero-logo { width: var(--content-w); max-height: var(--logo-max-h); height: auto; margin: 0 auto; filter: drop-shadow(0 6px 16px rgba(0,0,0,.35)); }

          .player { width: 100%; display: grid; place-items: center; padding: 0 16px; --remain-h: calc(100svh - var(--pad-top) - var(--logo-max-h) - var(--badge-h) - var(--cta-h) - 3*var(--gap)); }
          .player iframe {
            display: block; aspect-ratio: 16/9;
            width: min(var(--content-w), calc(var(--remain-h) * 16 / 9));
            max-width: var(--content-w); height: auto; min-height: 220px;
            border: none; border-radius: 12px; background: #000; box-shadow: 0 12px 32px rgba(0,0,0,.4);
          }

          .ctas { display: flex; gap: 12px; flex-wrap: wrap; justify-content: center; align-items: center; margin-bottom: var(--gap); width: var(--content-w); }
          .ticket-btn {
            position: relative; background: var(--btn); color: #fff;
            padding: 12px 28px 12px 38px; border-radius: 12px; text-decoration: none;
            font-weight: 700; letter-spacing: .2px; box-shadow: 0 6px 18px rgba(58,102,255,.30);
            display: inline-flex; align-items: center; gap: 10px;
          }
          .ticket-btn:hover { background: var(--btn-hover); }
          .ticket-btn::before {
            content: ""; position: absolute; left: 18px; top: 50%; transform: translateY(-50%);
            width: 12px; height: 12px; border-radius: 50%;
            background: radial-gradient(circle at 50% 50%, #0a1523 60%, rgba(10,21,35,0) 61%);
            box-shadow: 0 0 0 2px rgba(255,255,255,.08) inset;
          }
          .btn { background: var(--btn); color: #fff; border: none; padding: 10px 18px; border-radius: 10px; cursor: pointer; font-weight: 600; box-shadow: 0 6px 18px rgba(58,102,255,.3); }
          .btn:hover { background: var(--btn-hover); }

          /* trust microcopy under CTA */
          .trust-note {
            width: 100%; text-align: center; margin-top: 6px;
            font-size: .95rem; color: #a0c8ff;
          }

          /* --- Theater mode --- */
          body.is-theater { overflow: hidden; }
          body.is-theater .hero-wrap, body.is-theater .ctas { display: none; }
          body.is-theater .page { grid-template-rows: 0 1fr 0; }
          body.is-theater .player { padding: 0; }
          body.is-theater .player iframe { width: 100vw; height: 100vh; max-width: 100vw; min-height: 100vh; border-radius: 0; box-shadow: none; }
          .theater-exit {
            position: fixed; top: 14px; left: 14px; z-index: 60;
            background: rgba(0,0,0,.45); backdrop-filter: blur(6px); border: 1px solid var(--glass-border);
            color: #fff; border-radius: 10px; padding: 8px 12px; font-weight: 600; cursor: pointer; display: none;
          }
          body.is-theater .theater-exit { display: block; }

          /* --- Chat overlay --- */
          .ej-chat { position: fixed; inset: 0; pointer-events: none; z-index: 50; }
          .ej-chat.is-open { pointer-events: auto; }
          .ej-chat__panel {
            position: absolute; top: clamp(80px, 18vh, 200px); right: 18px;
            width: min(420px, 32vw); height: min(68vh, 640px); display: grid; grid-template-rows: 1fr; padding: 12px;
            border-radius: 16px; background: var(--glass); backdrop-filter: blur(6px); border: 1px solid var(--glass-border);
            box-shadow: 0 12px 40px rgba(0,0,0,.35); transform: translateX(24px); opacity: 0; transition: opacity .28s ease, transform .28s ease;
          }
          .ej-chat.is-open .ej-chat__panel { transform: translateX(0); opacity: 1; }
          .ej-chat__frame { width: 100%; height: 100%; border: none; background: transparent; border-radius: 10px; }
          .ej-chat__scrim { position: absolute; inset: 0; background: radial-gradient(1200px 800px at right 50%, rgba(0,0,0,.18), rgba(0,0,0,0)); opacity: 0; transition: opacity .28s ease; }
          .ej-chat.is-open .ej-chat__scrim { opacity: 1; }

          /* --- Mobile adjustments --- */
          @media (max-width: 860px){
            .ctas {  flex-direction: column; }
            .ej-chat__panel {  right: 10px;  left: 10px;  top: auto;  bottom: 80px;  width: auto;  height: min(60vh,520px);  transform: translateY(110%);  opacity: 1; }
            .ej-chat.is-open .ej-chat__panel {  transform: translateY(0); }
            .ej-chat__scrim {  background: linear-gradient(180deg, rgba(0,0,0,.22), rgba(0,0,0,0)); }
          }
        </style>
    </head>
    <body>
        <button id="ej-exit" class="theater-exit" title="Exit Theater (Esc)">âŸµ Exit</button>
        <div class="page">
            <div class="hero-wrap">
                <div class="badge-hero">
                    <img src="ASSETS/IMAGES/BADGE.png" alt="Protected by Electrojam.in badge">
                </div>
                <img src="ASSETS/IMAGES/hero-header.png" alt="electrojam.in logo" class="hero-logo"/>
            </div>
            <!-- ðŸŽ¬ New Castr video here -->
            <div class="player">
                <iframe src="https://player.castr.com/vod/DKcafgKuC1HxKIPY" width="100%" style="aspect-ratio: 16/9; min-height: 340px;" frameborder="0" scrolling="no" allow="autoplay" allowfullscreen webkitallowfullscreen mozallowfullscreen oallowfullscreen msallowfullscreen></iframe>
            </div>
            <div class="ctas"><a class="ticket-btn" href="https://buy.stripe.com/dRm4gs0iteXQc5mgs39fW00" target="_blank" rel="noopener" aria-label="Get ticket for Electrojam Beta via secure Stripe checkout"> <span class="ticket-tag" aria-hidden="true"></span>
                Get Ticket â€” Â£1 </a>
                <button id="ej-theater" class="btn" aria-pressed="false">Theater</button>
                <button id="ej-chat-toggle" class="btn" aria-expanded="false">Toggle Chat</button>
                <!-- trust microcopy -->
                <p class="trust-note">Secure Stripe checkout â€¢ ~60 seconds â€¢ No account required â€¢ Auto-redirects back here</p>
            </div>
        </div>
        <aside id="ej-chat" class="ej-chat" aria-hidden="true">
            <div class="ej-chat__scrim" aria-hidden="true"></div>
            <section class="ej-chat__panel" role="region" aria-label="Live chat">
                <iframe class="ej-chat__frame" src="https://www5.cbox.ws/box/?boxid=954169&boxtag=zdlWQv" allowtransparency="true" allow="autoplay" title="CBox Live Chat"></iframe>
            </section>
        </aside>
        <script>
      (function(){
        const theaterBtn = document.getElementById('ej-theater');
        const exitBtn    = document.getElementById('ej-exit');
        const chatBtn    = document.getElementById('ej-chat-toggle');
        const chatWrap   = document.getElementById('ej-chat');

        function setChatOpen(open){
          chatWrap.classList.toggle('is-open', open);
          chatBtn.setAttribute('aria-expanded', String(open));
          chatWrap.setAttribute('aria-hidden', String(!open));
        }

        function setTheater(on){
          document.body.classList.toggle('is-theater', on);
          theaterBtn.setAttribute('aria-pressed', String(on));
          theaterBtn.textContent = on ? 'Exit Theater' : 'Theater';
          setChatOpen(on);
        }

        theaterBtn.addEventListener('click', () => setTheater(!document.body.classList.contains('is-theater')));
        exitBtn.addEventListener('click',  () => setTheater(false));
        chatBtn.addEventListener('click',  () => setChatOpen(!chatWrap.classList.contains('is-open')));

        chatWrap.addEventListener('click', (e) => {
          if (e.target === chatWrap || e.target.classList.contains('ej-chat__scrim')) setChatOpen(false);
        });

        document.addEventListener('keydown', (e) => {
          if (e.key === 'Escape') setTheater(false);
          if (e.key.toLowerCase() === 't') setTheater(!document.body.classList.contains('is-theater'));
          if (e.key.toLowerCase() === 'c') setChatOpen(!chatWrap.classList.contains('is-open'));
        });
      })();
    </script>
    </body>
</html>
